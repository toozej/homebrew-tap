# This file was generated by GoReleaser. DO NOT EDIT.
cask "go-listen" do
  name "go-listen"
  desc "go-listen is a web application that allows users to search for artists and automatically add their top 5 songs to designated incoming playlists on Spotify"
  homepage "https://github.com/toozej/go-listen"
  version "1.2.0"

  livecheck do
    skip "Auto-generated on release."
  end

  binary "go-listen"
  manpage "man/go-listen.1.gz"
  bash_completion "completions/go-listen.bash"
  zsh_completion "completions/go-listen.zsh"
  fish_completion "completions/go-listen.fish"

  on_macos do
    on_intel do
      url "https://github.com/toozej/go-listen/releases/download/v#{version}/go-listen_Darwin_x86_64.tar.gz",
        verified: "github.com/toozej/go-listen/releases/download"
      sha256 "6b4e75cc9e15f54857c7e667c0a8a9bb6692350df6aa4e732d4e23b83fff89f0"
    end
    on_arm do
      url "https://github.com/toozej/go-listen/releases/download/v#{version}/go-listen_Darwin_arm64.tar.gz",
        verified: "github.com/toozej/go-listen/releases/download"
      sha256 "ba1730c3825cd6818c4251114819324a7f12acd6a32c84173306dbc9524a6299"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/toozej/go-listen/releases/download/v#{version}/go-listen_Linux_x86_64.tar.gz",
        verified: "github.com/toozej/go-listen/releases/download"
      sha256 "14fdc2674f0f9979f290e7736a78dc57edcfd796133246ab11d6d3811dcb941c"
    end
    on_arm do
      url "https://github.com/toozej/go-listen/releases/download/v#{version}/go-listen_Linux_arm64.tar.gz",
        verified: "github.com/toozej/go-listen/releases/download"
      sha256 "ceeb86be7f0c4ee0a4ab6d7666af9728f31c8776136d1175c46e918443980a27"
    end
  end

  postflight do
    if OS.mac?
      system_command "/usr/bin/xattr", args: ["-dr", "com.apple.quarantine", "#{staged_path}/go-listen"]
    end
  end

  # No zap stanza required
end
