# This file was generated by GoReleaser. DO NOT EDIT.
cask "go-listen" do
  name "go-listen"
  desc "go-listen is a web application that allows users to search for artists and automatically add their top 5 songs to designated incoming playlists on Spotify"
  homepage "https://github.com/toozej/go-listen"
  version "1.2.1"

  livecheck do
    skip "Auto-generated on release."
  end

  binary "go-listen"
  manpage "manpages/go-listen.1.gz"
  bash_completion "completions/go-listen.bash"
  zsh_completion "completions/go-listen.zsh"
  fish_completion "completions/go-listen.fish"

  on_macos do
    on_intel do
      url "https://github.com/toozej/go-listen/releases/download/v#{version}/go-listen_Darwin_x86_64.tar.gz",
        verified: "github.com/toozej/go-listen/releases/download"
      sha256 "9ca7bfcc9e3d0426b7070b40e378b6735435df9e92fe9b1bab1dcfa381d75923"
    end
    on_arm do
      url "https://github.com/toozej/go-listen/releases/download/v#{version}/go-listen_Darwin_arm64.tar.gz",
        verified: "github.com/toozej/go-listen/releases/download"
      sha256 "29872fe123d7726d3ad9d76dfb054631ffa7ce494ab57831a0f583e35b4a0963"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/toozej/go-listen/releases/download/v#{version}/go-listen_Linux_x86_64.tar.gz",
        verified: "github.com/toozej/go-listen/releases/download"
      sha256 "9fe4e3c268804273b90ac531a85fc58b5ebf15202be59b1553dae2646bd2f03d"
    end
    on_arm do
      url "https://github.com/toozej/go-listen/releases/download/v#{version}/go-listen_Linux_arm64.tar.gz",
        verified: "github.com/toozej/go-listen/releases/download"
      sha256 "8966e12f7f2ff50f7c9ffbbf6efd9d6864b6c8c7dfd9429aebfa92ba670bb92a"
    end
  end

  postflight do
    if OS.mac?
      system_command "/usr/bin/xattr", args: ["-dr", "com.apple.quarantine", "#{staged_path}/go-listen"]
    end
  end

  # No zap stanza required
end
